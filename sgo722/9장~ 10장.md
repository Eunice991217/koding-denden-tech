# 9장 컨테이너와 문자열

## 컨테이너란?

무언가를 넣기 위한 상자다 ⇒ 자료구조다

언어마다 정의하는 자료구조의 기능이 다르고, 부르는 이름도 다르다.

만능 컨테이너라는 것은 없으며, 어떤 기능이 필요한가에 따라 적절한 컨테이너를 고를 필요가 있다.

## 배열과 연결리스트

배열은 조회속도가 빠르고 추가,삭제 작업할 떄 느리다.

연결리스트는 반대로 조회속도가 느리나,  추가,삭제 작업을 할 때 빠르다.

- 연결리스트는 메모리의 연속된 지점에 다음 메모리의 주소값을 저장해야하므로 메모리를 더 많이 사용하게 된다.

## 사전

사전은 문자열과 값을 대응시킨 것이다.

사전을 구현하는 방법으로는, 해쉬테이블과 트리 등을 사용한 방법이 있다.

해쉬테이블을 사용하면 조회속도가 O(1)이고, 트리는 균형이 잡혀있으면 O(log n), 최악의 경우, O(n)이다.

- 균형이 잡힌 트리를 만드는 ‘균형 이진 트리’나 ‘레드-블랙 트리’에 대해서도 알아보자

## 문자란?

문자라는 단어를 듣고 사람마다 연상되는 이미지가 다를 것이다. 한국인이면 한국어, 미국인이면 영어, 중국인이면 중국어와 같이 떠오르는 이미지가 다를 것이다.

문자란 결국 인간이 ‘이것은 문자라고 부르자’라고 정한 기호 집합에 불과하다.

이 문자 집합을 디지털 데이터로 표현하려면 어떻게 부호화할지 정할 필요가 있었다.

그리고 이 부호화 방법을 부호화하는 사람과 복호화하는 사람이 내용에 대해서 공유해야했다.

## 부호화

처음에는 모스 부호를 통해서 알파벳과 숫자, 그리고 몇 개의 기호들을 부호화했었다.

이후 보 코드가 도입되면서 5개의 비트를 사용하여 효율을 높였다.

문자 부호화 방식도 제 각각이었기에, 컴퓨터마다 부호화 방법이 다르면 변환 작업을 거쳐야했기에 부호화 방법을 통일할 필요를 느꼈고, ASCII와 EBCDIC와 같은 시도 끝에 Unicode를 통해서 부호화 방법을 통일 시킬 수 있었다.

## 문자열

문자열이란, 문자가 정렬되어 있는 것을 의미한다.

언어별로 문자열을 다루는 방법은 다르다.

pascal은 문자길이를 저장하고 있지만, C언어는 문자길이를 저장하지 않으며 마지막 부분에 NUL문자를 가진다.

자바는 문자길이를 가지고있으며, char형이 16비트로 정해져있다.

파이썬은 16비트 문자열인 Unicode문자열과 pascal형 8비트 문자열을 모두 지원하고 있다.

# 10장 병행처리

## 병행처리

EDSAC을 사용하던 시절에는 프로그램의 계산을 실행하면, 계산이 끝날 때까지 기다렸다고 한다.

하나의 작업을 진행하면서 다른 작업을 처리하기 위한 방법으로 병행처리가 나오게 되었고, 병행처리는 여러 작업 또는 하나의 작업을 여러 부분으로 나누어 처리하는 것을 의미한다.

처리를 변경하는 방법으로는 협력적 멀티태스크와 선점적 멀티태스크라는 두가지 방법이 있다.

협력적 멀티태스크는 먼저 작업하고 있던 이가 작업을 하던 중 다음 작업자에게 처리를 넘기는 것이다.

선점적 멀티태스크는 중재자가 있어 교대해하고 명령을 내려 작업 처리를 넘기는 것이다.

협력적 멀티태스크는 먼저 작업을 있던 이가 처리를 넘기지않는 문제가 있었다.

선점적 멀티태스크에는 경합 상태가 발생할 수 있는 문제가 있었는데, 우리는 이 경합 상태를 방지할 수 있는 방법에 대해서 더 얘기해보려고 한다.

## 경합상태

경합 상태가 발생할 수 있는 3가지 조건이 존재한다.

1. 2가지 처리가 변수를 공유하고 있다.
2. 적어도 하나의 처리가 그 변수를 변경한다.
3. 한쪽 처리가 한 단락 마무리되기 전에, 다른 한쪽의 처리가 끼어들 가능성이 있다.

이 세가지 조건 중 하나라도 제거할 수 있다면 병행 실행 시에도 안정된 프로그램을 만들 수 있다.

1을 막기위해서 메모리를 공유하지 않는 방식을 사용해봤다.

2를 막기위해서 변수를 변하지 않도록 만드는 방식을 사용해봤다.

3번을 막기 위해서는 협력적 스레드 사용(파이버,코루틴,그린스레드) , 처리에 표식을 붙인다(락, 뮤텍스, 세마포어)는 두가지 방식을 사용해봤다.

## 락(처리에 표식을 붙이는 방법)의 문제점

표식을 이용하는 방법으로 락을 사용한 방법에서 초래되는 두가지 문제점이 존재한다.

1. 교착상태가 발생할 수 있다.
2. 합성할 수 없다 ⇒ 하나의 접근이 연쇄되어 있을때 모두 락걸어야했다.

⇒ 이 문제를 해결하고자 트랜잭션 메모리라는 개념이 나오게 되었다.

트랜잭션 메모리는 일시적으로 별도 버전을 만들어서 그것을 변경하고 하나의 묶음처리가 끝나면 반영하는 것이다.

병행처리의 역사를 보면

공유 → 비공유 → 공유

협력 → 비협력 → 협력

하드웨어 → 소프트웨어 → 하드웨어와 같이 2가지 방법 사이에서 방황하고 있기에, 한쪽만 배우지말고 모두 익혀서 균형있게 사용할 필요가 있다.
